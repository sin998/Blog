[TOC]

# 【UE4】加载资源的方式（九）各种加载方式特点总结和选择

# 参考资料&原文链接

[AssetManager系列之TAssetPtr与FStreamableManager](https://zhuanlan.zhihu.com/p/80846277)

[虚幻4批量加载资源，加载指定目录或指定类的资源](https://blog.csdn.net/qq_16756235/article/details/82714491)

[UE4资源加载方式](https://www.sohu.com/a/203578475_667928)

[Unreal4异步加载资源](https://zhuanlan.zhihu.com/p/369304308)

[Unreal Engine 4 —— Asset Manager介绍](https://blog.csdn.net/noahzuo/article/details/78815596)

[虚幻官方文档 - AssetManager](https://docs.unrealengine.com/4.26/zh-CN/ProductionPipelines/AssetManagement/)

[【UE4】资源管理之UAssetManager用法](https://zhuanlan.zhihu.com/p/129712105)

[如何评价unreal4.17的Asset manager?](https://www.zhihu.com/question/66615175?sort=created)

[芭蕉不解的博客](https://bajiaobujie.github.io/)

[(UE4 4.20)UE4同步加载和异步加载UObject ----------LoadObject,LoadClass,FStreamableManager](https://blog.csdn.net/qq_29523119/article/details/84455486)

[UE4 异步资源加载](https://blog.csdn.net/mmqqyyqqyyq/article/details/84001778)

# 直接/间接属性引用对美术或设计师友好

可以直接用`FStringAssetReferences`和`TAssetPtr`，再加上`UPROPERTY`宏，写上对应的属性说明符如`EditAnywhere`就可以让美术或设计师直接在引擎中设置对应的资源，并且间接属性引用实际上就是软引用，可以实现按需加载。

# 大资源和小资源

和自身的大小及引用的大小相关，以偏概全：UE里面可以查看



# 软引用和硬引用



# 同步和异步

往往许多时候同步和异步分不清该在什么时候使用，并且有小部分人对同步很是唾弃，说什么同步加载大资源会引起卡顿之类的。但是您可以再仔细思考一下，为什么我们需要同步加载，因为同步加载的东西一定是很重要的东西。

例如：我从飞机上跳下来之后发现没有房子，这个房子本来是该在我下来之前就应该加载好的，但是开发者因为考虑到有些用户电脑配置不是很高，所以用了异步的加载资源的方式。结果就是我人到了，在该有房子的地方发现没有房子，也许我就会直接走掉，向下一个地方出发。

发现了吗，这个游戏的核心流程已经被破坏掉了。原本的流程是：跳伞 -> 在房子里面捡垃圾 -> 打架 -> ·······。但是我们现在没有第二步了，就是给玩家造成了一种错觉，以为这个地方没有房子，如果走到下一个地方还是加载不出来，那么玩家就一直拿不到资源，游戏流程就被破坏掉了。

再举个例子，我点击UMG上的某个Button，这个Button的点击事件是在场景中的指定位置生成一个Actor，那么这个时候如果用异步的话就还是会有这个问题。玩家点了发现没有反应（其实是因为在异步加载中），于是玩家以为卡了，又多点了几下，这时候如果没有表现的话，最后一段时间后玩家发现自己造了很多个这种东西，资源也被扣光光了，这会严重打击玩家再游玩下去的信心。

所以像涉及到游戏核心流程和游戏体验相关的或者是及时性很高的这种时候我们一定要用同步加载，给予玩家及时反馈。例如：点了按钮，那么就立即同步加载（哪怕是大资源），这时候电脑会出现卡顿，起码让玩家知道我这次点击操作是有效的，卡就卡呗，这东西很重要，再怎么优化不行，因为这东西是少不了的。

那么异步什么时候适用呢？

上面那种是无奈之举，必要的东西没有办法逃避。但是有些情况下我们还是可以用异步来提高我们的游戏体验。

例如在切换关卡的时候，先跳到一个小地图，然后上面放上一个带进度条的UMG，以提示玩家当前加载进度，加载完成后再切换到目标地图。

再例如在

